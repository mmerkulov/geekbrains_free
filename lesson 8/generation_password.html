<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Личный сайт студента GeekBrains</title>
	<link rel="stylesheet" href="style.css">
	<script type="text/javascript">
		
		var arrayAlphabet = ["q", "w", "e", "r", "t", "y", "u", "i", "o", "o", "a", "s", "d", "f", "g", "h", "j", "k", "l", "z", "x", "c", "v", "b", "n", "m"];
		var arrayNumbers = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "0"];
		var arraySpecSymbols = ["!", "_", "^", "%"];
		
		function searchValueInArray(array){		
			return Math.round(Math.random() * (array.length - 1));
		}

		function randomChar(){
			var randomArray = Math.round(Math.random() * 2) + 1; // рандомная вещь для определения массива, умножая на 2 будет от 0 до 2, нам нужно [1,2,3]
			var randomChar = "";

			if (randomArray == 1){

				randomChar = searchValueInArray(arrayAlphabet);
				randomChar = arrayAlphabet[randomChar];

				if (Math.round(Math.random() * 1) == 1) { //если между 0 и 1, значение = 1, то делаем букву заглавной иначе маленькая
				
					randomChar = randomChar.toUpperCase();
				
				}
			} else if (randomArray == 2) {
			
				randomChar = searchValueInArray(arrayNumbers);
				randomChar = arrayNumbers[randomChar];
			
			} else {
			
				randomChar = searchValueInArray(arraySpecSymbols);
				randomChar = arraySpecSymbols[randomChar];
			}
			return randomChar;
		}

		function readInt(){
			var number = document.getElementById("passwordLength").value;			
			return parseInt(number);
		}

		function generatePassword(){
			var lengthPassword = readInt();

			if (lengthPassword >= 5) {
				var password = "";

				for (var i = 0; i <= lengthPassword; i++){
						password = password + randomChar();
				}	
			}
			else {
				alert("Длина пароля должна быть минимум 5 символов.");
			}

			document.getElementById("passwordLength").value = '';
			return password;
		}

		function hideElement(id){
			document.getElementById(id).style.display = "none";			
		}

		function writeFunc(userPassword){
			document.getElementById("welcomPhrase").innerHTML = "Ваш пароль: " + userPassword; 
		}

		function mainWork(){
			var userPassword = generatePassword();
			if (userPassword != null){
				writeFunc(userPassword);
				hideElement("Button");
				hideElement("passwordLength");
			}
		}

	</script> 
</head>
<body>

	<div class="content">

		<?php
			include "menu.php";
		?>

		<div class="center">
		
			<h1>Генератор паролей</h1>
			
			<div class="box">
				<form method="GET">
					
					<p name="welcomPhrase" id="welcomPhrase">Введите желаемое количество символов для пароля</p>
					<input type="text" name="passwordLength" id="passwordLength">
					<br>			
					<a href="#" onclick="mainWork();" id="Button" name="Button">Погнали!</a>
				</form>
			</div>
		</div>
	</div>

<div class="footer">
	Copyright &copy; MVDRF 
</div>

</body>
</html>